<!--Dropdown button -->
<div ng-controller="DropDownController">

<div class="btn-group" uib-dropdown is-open="status.isopen">
  <a class="btn btn-success" id="dropdown-cart-btn" 
            uib-dropdown-toggle ng-disabled="disabled">
            <div class="cart-icon">
                <span><i class="fa fa-shopping-cart" aria-hidden="true"></i>
</span>
            </div>
            <div class="cart-info" ng-controller="HeaderController">
                <div>
                    {{ lookupCartTotalSum() | number:2 }} &euro;
                </div>
                <!-- <div ng-show="totalCartSum">{{ totalCartSum | number:2 }} &euro;</div> -->
                <div>{{ lookupCartItemsCount() }} items</div>
            </div>
            <div class="cart-caret">
                <span class="caret"></span>
            </div>
  </a>

<div class="container dropdown-menu dropdown-menu-right" uib-dropdown-menu role="menu" aria-labelledby="dropdown-cart-btn"> <!-- template-url="dropdown.html" -->

  <header>
    <h2 class="dropdown-cart-title">Your Shopping Cart</h2>
    <hr />
  </header>

    <div class="table-responsive">
      <table class="table table-hover">
        <tr ng-repeat="item in cart">
            <td class="item-image">
                  <img ng-src="assets/images/products/{{item.item.shortname}}.png" alt="Photo of {{item.item.name}}"
                      class="img-responsive-xs" />
            </td>
            <td class="item-name">{{item.item.name}}</td>
            <td class="item-price">{{item.item.pricePerUnit}} &euro;</td>
            <td>
                <div class="item-quantity">{{item.quantity}}</div>
                <div class="item-quantity-unit-type">{{item.item.unitType | uppercase}}</div>
            </td>
            <td class="item-delete-icon"><a type="button" ng-click="removeFromCart(item)">X</a></td>
        </tr>
      </table>
    </div>
  
  <hr />

    <div class="table-responsive">
      <table class="table table-hover">
        <tr class="cart-total">
            <td align="right" class="item-caption">Total # products:</td>
            <td align="right" class="total-cart-count">{{ itemsInCart }}</td>
        </tr>
        <tr class="cart-total">
            <td align="right" class="item-caption">Total Cost:</td>
            <td align="right" class="total-cart-price">{{ totalCartSum | number:2}} &euro;</td>
        </tr>
      </table>
    </div>

  <hr />
  <footer>
      <button class="btn btn-sm btn-pink pull-right" type="button">
        Continue to Checkout
        <span class="gotcha"><br>(if this app required that)</span>
    </button>
  </footer>
</div> <!-- dropdown-menu -->

</div> <!-- btn-group -->

</div> <!-- DropDownController -->



<!-- <div ng-controller="ModalCartController as $ctrl" class="modal-cart">
    <script type="text/ng-template" id="myModalContent.html">
        <div class="modal-header">
            <h3 class="modal-title" id="modal-title">I'm a modal!</h3>
        </div>
        <div class="modal-body" id="modal-body">
            <ul>
                <li ng-repeat="item in $ctrl.items">
                    <a href="#" ng-click="$event.preventDefault(); $ctrl.selected.item = item">{{ item }}</a>
                </li>
            </ul>
            Selected: <b>{{ $ctrl.selected.item }}</b>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" type="button" ng-click="$ctrl.ok()">OK</button>
            <button class="btn btn-warning" type="button" ng-click="$ctrl.cancel()">Cancel</button>
        </div>
    </script>


    <div class="dropdown">
        <button type="button" class="btn btn-success dropdown-toggle" ng-click="$ctrl.open()">Open me!</button>
        
    </div>
   
    <div ng-show="$ctrl.selected">Selection from a modal: {{ $ctrl.selected }}</div>
    <div class="modal-parent">
    </div>
</div>